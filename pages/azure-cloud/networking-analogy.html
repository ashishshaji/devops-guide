<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure Networking Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #326CE5;
            --secondary: #39A0F4;
            --accent: #FFEB3B;
            --dark: #1e293b;
            --light: #f8fafc;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--light);
            color: var(--dark);
            scroll-behavior: smooth;
        }

        .glass-nav {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(226, 232, 240, 0.8);
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 950px;
            margin: 2rem auto;
            background: #fff;
            border-radius: 1.5rem;
            padding: 2.5rem;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05);
            border: 1px solid #e2e8f0;
        }

        .interactive-block {
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .interactive-block:hover {
            filter: brightness(1.1);
            transform: scale(1.02);
        }

        #componentModal {
            transition: opacity 0.3s ease;
            display: none;
            position: fixed;
            inset: 0;
            z-index: 100;
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(4px);
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        .modal-content {
            transform: scale(0.9);
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            max-width: 600px;
            width: 100%;
        }
        #componentModal.active {
            display: flex;
            opacity: 1;
        }
        #componentModal.active .modal-content {
            transform: scale(1);
        }

        .next-topic-banner { 
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); 
        }

        /* SVG Animation */
        @keyframes pulse {
            0% { stroke-dashoffset: 100; }
            100% { stroke-dashoffset: 0; }
        }
        .flow-line {
            stroke-dasharray: 10;
            animation: pulse 5s linear infinite;
        }

        .vnet-boundary { fill: #f1f5f9; stroke: #cbd5e1; stroke-width: 2; stroke-dasharray: 8,4; }
        .subnet-card { fill: #ffffff; stroke: #e2e8f0; stroke-width: 1; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.05)); }
        .label-text { font-size: 11px; font-weight: 700; fill: #64748b; text-transform: uppercase; letter-spacing: 0.05em; }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 4px; }
    </style>
</head>
<body>

    <!-- Navigation -->
    <nav class="glass-nav py-4 px-6 flex justify-between items-center">
        <div class="flex items-center space-x-2">
            <div class="w-8 h-8 bg-[#326CE5] rounded flex items-center justify-center text-white">
                <i class="fas fa-network-wired"></i>
            </div>
            <span class="text-xl font-bold tracking-tight">Azure<span class="text-[#326CE5]">Net</span>Docs</span>
        </div>
        <div class="hidden md:flex space-x-6 font-medium text-slate-600">
            <a href="#vnet" class="hover:text-primary transition">VNet</a>
            <a href="#security" class="hover:text-primary transition">Security</a>
            <a href="#balancing" class="hover:text-primary transition">Load Balancing</a>
            <a href="#connectivity" class="hover:text-primary transition">Connectivity</a>
        </div>
        <button class="bg-[#326CE5] text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-blue-700 transition">
            View Syllabus
        </button>
    </nav>

    <!-- Hero Section -->
    <header class="py-16 px-6 max-w-7xl mx-auto text-center">
        <h1 class="text-4xl md:text-5xl font-extrabold text-slate-900 mb-4">
            The Housing Society Analogy
        </h1>
        <p class="text-lg text-slate-600 max-w-2xl mx-auto mb-8">
            Think of a Virtual Network as your private land. From the gate (Firewall) to the internal paths (Routes), every component ensures your assets stay secure and reachable.
        </p>
        
        <!-- Updated Architecture Diagram -->
        <div class="chart-container">
            <div class="flex justify-between items-center mb-6">
                <span class="text-xs font-bold text-slate-400 uppercase tracking-widest">Topology: Security & Connectivity</span>
                <div class="flex space-x-4">
                    <div class="flex items-center text-[10px] font-bold text-slate-500 uppercase"><span class="w-2 h-2 rounded-full bg-blue-500 mr-2"></span> Traffic Path</div>
                    <div class="flex items-center text-[10px] font-bold text-slate-500 uppercase"><span class="w-2 h-2 rounded-full bg-red-500 mr-2"></span> Firewall Gate</div>
                </div>
            </div>
            
            <svg viewBox="0 0 900 320" class="w-full h-full">
                <!-- Internet Icon -->
                <circle cx="50" cy="160" r="30" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2" />
                <text x="35" y="165" class="fas" style="font-family: 'Font Awesome 6 Free'; font-weight: 900; font-size: 20px;">&#xf0ac;</text>
                <text x="25" y="210" class="label-text" style="font-size: 10px;">Azure DNS</text>

                <!-- VNet Boundary (Private Land) -->
                <rect x="120" y="20" width="750" height="280" rx="15" class="vnet-boundary" />
                <text x="140" y="45" class="label-text" style="fill: var(--primary)">VNet (Private Land)</text>

                <!-- Azure Firewall (Compound Wall/Gate) -->
                <g class="interactive-block" onclick="showModal('firewall')">
                    <rect x="120" y="120" width="20" height="80" fill="#ef4444" rx="4" />
                    <text x="105" y="110" class="label-text" style="fill: #ef4444; font-size: 9px;">Azure Firewall (Gate)</text>
                </g>

                <!-- Flow Line 1 -->
                <path d="M 80 160 L 120 160" stroke="#cbd5e1" stroke-width="2" stroke-dasharray="5,5" class="flow-line" />

                <!-- App Gateway (L7 Load Balancer) -->
                <g class="interactive-block" onclick="showModal('load-balancer')">
                    <rect x="160" y="130" width="60" height="60" rx="30" fill="#326CE5" />
                    <text x="178" y="165" fill="white" style="font-size: 10px; font-weight: 800;">L7</text>
                    <text x="160" y="210" class="label-text" style="font-size: 9px;">App Gateway</text>
                </g>

                <!-- Subnets (Blocks) -->
                <rect x="260" y="60" width="280" height="200" rx="12" class="subnet-card" />
                <text x="275" y="85" class="label-text" style="fill: var(--secondary)">Web Subnet (Block A)</text>
                <g class="interactive-block" onclick="showModal('vm-web')">
                    <rect x="280" y="110" width="100" height="40" rx="8" fill="#eff6ff" stroke="#326CE5" stroke-opacity="0.2" />
                    <text x="295" y="135" style="font-size: 9px; font-weight: 600; fill: var(--primary);">VM-01 (Zone 1)</text>
                    <rect x="420" y="110" width="100" height="40" rx="8" fill="#eff6ff" stroke="#326CE5" stroke-opacity="0.2" />
                    <text x="435" y="135" style="font-size: 9px; font-weight: 600; fill: var(--primary);">VM-02 (Zone 2)</text>
                </g>
                <text x="310" y="230" class="label-text" style="font-size: 9px; fill: #10b981;"><i class="fas fa-user-shield"></i> NSG (Guard)</text>

                <!-- Connectivity Peering -->
                <rect x="620" y="60" width="220" height="200" rx="12" fill="#fff" stroke="#326CE5" stroke-dasharray="4,4" />
                <text x="635" y="85" class="label-text">Peered VNet (New Property)</text>
                <path d="M 540 160 L 620 160" stroke="#326CE5" stroke-width="2" marker-end="url(#arrowhead)" />
                <text x="545" y="150" class="label-text" style="font-size: 9px;">VNet Peering</text>
            </svg>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-6 pb-24 space-y-24">
        
        <!-- Infrastructure: VNet & Subnets -->
        <section id="vnet" class="grid md:grid-cols-2 gap-12 items-center">
            <div>
                <span class="text-blue-600 font-bold uppercase tracking-wider text-sm">Land & Blocks</span>
                <h2 class="text-3xl font-bold mt-2 mb-4">Infrastructure Foundations</h2>
                <div class="space-y-4 text-slate-600">
                    <p>A Virtual Network (VNet) is like <strong>private land</strong> where you securely connect Azure resources.</p>
                    <ul class="list-disc pl-5 space-y-2">
                        <li><strong>VNets (Private Land):</strong> Logical isolation at the network level.</li>
                        <li><strong>Subnets (Blocks):</strong> Subdivisions within your land used to deploy specific app tiers (Web, Logic, Database).</li>
                        <li><strong>Availability Zones:</strong> Deploying in multiple zones within a VNet ensures high availability and prevents downtime (7:51).</li>
                    </ul>
                </div>
            </div>
            <div class="grid grid-cols-1 gap-4">
                <div class="interactive-block bg-white p-6 rounded-xl border border-slate-200 border-l-4 border-l-blue-500 shadow-sm" onclick="showModal('zones')">
                    <h4 class="font-bold flex items-center"><i class="fas fa-th-large mr-2 text-blue-500"></i> Availability Zones</h4>
                    <p class="text-sm text-slate-500 mt-1">Multi-zone deployment for high availability (99.99%).</p>
                </div>
                <div class="interactive-block bg-white p-6 rounded-xl border border-slate-200 border-l-4 border-l-green-500 shadow-sm" onclick="showModal('dns')">
                    <h4 class="font-bold flex items-center"><i class="fas fa-globe mr-2 text-green-500"></i> Azure DNS</h4>
                    <p class="text-sm text-slate-500 mt-1">Translating domain names to IP addresses for easy access.</p>
                </div>
            </div>
        </section>

        <!-- Security: Firewall & NSG -->
        <section id="security" class="bg-[#1e293b] text-white p-12 rounded-[2rem] shadow-xl">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold">The Security Hierarchy</h2>
                <p class="text-slate-400 mt-2">Layered protection from the compound wall to individual guards.</p>
            </div>
            <div class="grid md:grid-cols-2 gap-12">
                <div class="space-y-4">
                    <div class="w-12 h-12 bg-red-500/20 text-red-400 rounded-xl flex items-center justify-center mb-6">
                        <i class="fas fa-border-all fa-2x"></i>
                    </div>
                    <h4 class="text-xl font-bold">Azure Firewall (Compound Wall)</h4>
                    <p class="text-slate-300 leading-relaxed">Acts as the compound wall and main gate for the entire VNet. It blocks unauthorized access before traffic even reaches your subnets.</p>
                    <span class="text-xs bg-red-500/10 text-red-400 px-3 py-1 rounded-full border border-red-500/20">Boundary Protection</span>
                </div>
                <div class="space-y-4">
                    <div class="w-12 h-12 bg-blue-500/20 text-blue-400 rounded-xl flex items-center justify-center mb-6">
                        <i class="fas fa-user-shield fa-2x"></i>
                    </div>
                    <h4 class="text-xl font-bold">NSGs (Security Guards)</h4>
                    <p class="text-slate-300 leading-relaxed">Network Security Groups act as security guards for individual subnets (blocks). They control the traffic flow within the VNet based on specific rules.</p>
                    <span class="text-xs bg-blue-500/10 text-blue-400 px-3 py-1 rounded-full border border-blue-500/20">Subnet Protection</span>
                </div>
            </div>
        </section>

        <!-- Load Balancing: App Gateway vs LB -->
        <section id="balancing" class="space-y-12">
            <div class="text-center">
                <h2 class="text-3xl font-bold">Distributing Requests</h2>
                <p class="text-slate-500">How Azure balances traffic across multiple app instances.</p>
            </div>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="bg-white p-8 rounded-2xl border border-slate-200 shadow-sm hover:border-blue-500 transition-colors">
                    <h4 class="text-xl font-bold mb-4 flex items-center"><i class="fas fa-code mr-3 text-blue-600"></i> App Gateway (L7)</h4>
                    <p class="text-slate-600 mb-6 text-sm">Used for web applications. It performs routing based on <strong>URLs and paths</strong> (e.g., /login vs /logout).</p>
                    <div class="p-3 bg-blue-50 rounded-lg text-xs font-mono text-blue-800">
                        Path: domain.com/login &rarr; VM Pool A<br>
                        Path: domain.com/api &rarr; VM Pool B
                    </div>
                </div>
                <div class="bg-white p-8 rounded-2xl border border-slate-200 shadow-sm hover:border-blue-500 transition-colors">
                    <h4 class="text-xl font-bold mb-4 flex items-center"><i class="fas fa-server mr-3 text-blue-600"></i> Azure Load Balancer (L4)</h4>
                    <p class="text-slate-600 mb-6 text-sm">Used for backend applications. Routing decisions are made at a lower network layer (IP/Port).</p>
                    <div class="p-3 bg-slate-50 rounded-lg text-xs font-mono text-slate-800">
                        TCP/UDP Port 1433 &rarr; SQL Backend Pool<br>
                        Round-Robin distribution across nodes.
                    </div>
                </div>
            </div>
        </section>

        <!-- Connectivity: Peering & VPN -->
        <section id="connectivity" class="grid md:grid-cols-2 gap-12 items-center py-12">
            <div class="order-2 md:order-1">
                <div class="bg-gradient-to-br from-blue-600 to-indigo-700 p-8 rounded-[2rem] text-white shadow-2xl relative overflow-hidden">
                    <div class="relative z-10 space-y-6">
                        <div>
                            <h4 class="text-xl font-bold mb-2">VNet Peering</h4>
                            <p class="text-sm opacity-80">Connect two separate virtual networks securely. It's like combining two independent properties into one large estate.</p>
                        </div>
                        <div class="border-t border-white/20 pt-6">
                            <h4 class="text-xl font-bold mb-2">VPN Gateway</h4>
                            <p class="text-sm opacity-80">Enables secure communication between Azure and on-premises networks, facilitating hybrid cloud models (33:41).</p>
                        </div>
                    </div>
                    <!-- Background Decoration -->
                    <div class="absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"></div>
                </div>
            </div>
            <div class="order-1 md:order-2">
                <span class="text-blue-600 font-bold uppercase tracking-wider text-sm">External Access</span>
                <h2 class="text-3xl font-bold mt-2 mb-4">Connectivity Hub</h2>
                <div class="space-y-6 text-slate-600">
                    <div class="flex items-start space-x-4">
                        <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600"><i class="fas fa-link"></i></div>
                        <div>
                            <h5 class="font-bold text-slate-900">Signboards (Route Tables)</h5>
                            <p class="text-sm">Route Tables are the signboards within the society, guiding traffic within a subnet (11:32).</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-4">
                        <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center text-green-600"><i class="fas fa-network-wired"></i></div>
                        <div>
                            <h5 class="font-bold text-slate-900">Hybrid Cloud Models</h5>
                            <p class="text-sm">VPN Gateway allows your on-premises office to act as an extension of your cloud "land".</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer Banner -->
    <footer class="next-topic-banner py-16 px-6 text-center text-white">
        <h2 class="text-2xl font-bold mb-4">Ready to Build Your Society?</h2>
        <p class="text-slate-400 mb-8 max-w-lg mx-auto">Mastering Load Balancers, Firewalls, and VNet Peering is essential for architecting enterprise Azure environments.</p>
        <div class="flex flex-wrap justify-center gap-4">
            <a href="#" class="bg-blue-600 hover:bg-blue-700 px-8 py-3 rounded-xl font-bold transition shadow-lg">Peering Deep Dive</a>
            <a href="#" class="bg-slate-700 hover:bg-slate-600 px-8 py-3 rounded-xl font-bold transition">GitHub Syllabus</a>
        </div>
        <div class="mt-12 text-slate-500 text-[10px] font-bold uppercase tracking-widest space-x-4">
            <span>Availability Zones (7:51)</span>
            <span>Firewall (9:32)</span>
            <span>Load Balancers (12:45)</span>
            <span>Peering (30:00)</span>
        </div>
    </footer>

    <!-- Modal System -->
    <div id="componentModal">
        <div class="modal-content bg-white rounded-2xl shadow-2xl overflow-hidden">
            <div class="p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50">
                <h3 id="modalTitle" class="text-xl font-bold text-slate-800">Details</h3>
                <button onclick="closeModal()" class="w-8 h-8 rounded-full hover:bg-slate-200 flex items-center justify-center text-slate-400 transition">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="p-8">
                <div id="modalBody" class="text-slate-600 leading-relaxed text-sm">
                    <!-- Content injected by JS -->
                </div>
            </div>
            <div class="p-6 bg-slate-50 text-right">
                <button onclick="closeModal()" class="bg-slate-800 text-white px-6 py-2 rounded-lg font-bold hover:bg-slate-900 transition">Close</button>
            </div>
        </div>
    </div>

    <script>
        const modalData = {
            'firewall': {
                title: 'Azure Firewall (Gate)',
                body: 'Azure Firewall acts as a compound wall and gate for the VNet. It is a managed, cloud-based network security service that protects your Azure Virtual Network resources. It uses a static public IP for your virtual network resources allowing outside firewalls to identify traffic originating from your VNet.'
            },
            'load-balancer': {
                title: 'Application Gateway (L7)',
                body: 'Application Gateway is a web traffic load balancer that enables you to manage traffic to your web applications. Traditional load balancers operate at the transport layer (OSI layer 4 - TCP and UDP) and route traffic based on source IP address and port, to a destination IP address and port. Application Gateway can make routing decisions based on additional attributes of an HTTP request, for example URI path or host headers.'
            },
            'zones': {
                title: 'Availability Zones',
                body: 'To ensure high availability and prevent downtime, applications are deployed in multiple availability zones within a VNet. This protects your applications and data from datacenter failures. Zones are unique physical locations within an Azure region.'
            },
            'dns': {
                title: 'Azure DNS',
                body: 'Azure DNS translates domain names (e.g., amazon.com) into IP addresses, allowing users to access applications easily without needing to remember complex IP strings. It provides a reliable, secure DNS service to manage and resolve domain names in a virtual network.'
            },
            'vm-web': {
                title: 'Web Subnet (Block A)',
                body: 'Subnets allow for better organization. In this tier, NSG "guards" typically allow public traffic (via App Gateway) while keeping internal database access restricted to authorized paths only.'
            }
        };

        function showModal(id) {
            const data = modalData[id];
            if (!data) return;

            document.getElementById('modalTitle').innerText = data.title;
            document.getElementById('modalBody').innerHTML = data.body;
            document.getElementById('componentModal').classList.add('active');
            document.body.style.overflow = 'hidden'; 
        }

        function closeModal() {
            document.getElementById('componentModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        window.onclick = function(event) {
            const modal = document.getElementById('componentModal');
            if (event.target == modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>