<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure Networking Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #326CE5;
            --secondary: #39A0F4;
            --accent: #FFEB3B;
            --dark: #1e293b;
            --light: #f8fafc;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--light);
            color: var(--dark);
            scroll-behavior: smooth;
        }

        .glass-nav {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(226, 232, 240, 0.8);
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 900px;
            margin: 2rem auto;
            background: #fff;
            border-radius: 1.5rem;
            padding: 2.5rem;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05);
            border: 1px solid #e2e8f0;
        }

        .interactive-block {
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .interactive-block:hover {
            filter: brightness(1.1);
            transform: scale(1.02);
        }

        #componentModal {
            transition: opacity 0.3s ease;
            display: none;
            position: fixed;
            inset: 0;
            z-index: 100;
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(4px);
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        .modal-content {
            transform: scale(0.9);
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            max-width: 600px;
            width: 100%;
        }
        #componentModal.active {
            display: flex;
            opacity: 1;
        }
        #componentModal.active .modal-content {
            transform: scale(1);
        }

        .next-topic-banner { 
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); 
        }

        /* SVG Animation */
        @keyframes pulse {
            0% { stroke-dashoffset: 100; }
            100% { stroke-dashoffset: 0; }
        }
        .flow-line {
            stroke-dasharray: 10;
            animation: pulse 5s linear infinite;
        }

        .vnet-boundary { fill: #f1f5f9; stroke: #cbd5e1; stroke-width: 2; stroke-dasharray: 8,4; }
        .subnet-card { fill: #ffffff; stroke: #e2e8f0; stroke-width: 1; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.05)); }
        .nsg-shield { fill: var(--primary); }
        .label-text { font-size: 11px; font-weight: 700; fill: #64748b; text-transform: uppercase; letter-spacing: 0.05em; }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 4px; }
    </style>
</head>
<body>

    <!-- Navigation -->
    <nav class="glass-nav py-4 px-6 flex justify-between items-center">
        <div class="flex items-center space-x-2">
            <div class="w-8 h-8 bg-[#326CE5] rounded flex items-center justify-center text-white">
                <i class="fas fa-network-wired"></i>
            </div>
            <span class="text-xl font-bold tracking-tight">Azure<span class="text-[#326CE5]">Net</span>Docs</span>
        </div>
        <div class="hidden md:flex space-x-6 font-medium text-slate-600">
            <a href="#vnet" class="hover:text-primary transition">VNet</a>
            <a href="#subnets" class="hover:text-primary transition">Subnets</a>
            <a href="#security" class="hover:text-primary transition">Security</a>
            <a href="#routing" class="hover:text-primary transition">Routing</a>
        </div>
        <button class="bg-[#326CE5] text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-blue-700 transition">
            View Syllabus
        </button>
    </nav>

    <!-- Hero Section -->
    <header class="py-16 px-6 max-w-7xl mx-auto text-center">
        <h1 class="text-4xl md:text-5xl font-extrabold text-slate-900 mb-4">
            The Journey of a Packet
        </h1>
        <p class="text-lg text-slate-600 max-w-2xl mx-auto mb-8">
            Visualize how traffic enters your environment, clears security hurdles, and reaches its destination across isolated subnets.
        </p>
        
        <!-- Updated Architecture Diagram -->
        <div class="chart-container">
            <div class="flex justify-between items-center mb-6">
                <span class="text-xs font-bold text-slate-400 uppercase tracking-widest">Traffic Flow: Public → Private</span>
                <div class="flex space-x-4">
                    <div class="flex items-center text-[10px] font-bold text-slate-500 uppercase"><span class="w-2 h-2 rounded-full bg-blue-500 mr-2"></span> Allowed</div>
                    <div class="flex items-center text-[10px] font-bold text-slate-500 uppercase"><span class="w-2 h-2 rounded-full bg-slate-300 mr-2"></span> Isolated</div>
                </div>
            </div>
            
            <svg viewBox="0 0 800 320" class="w-full h-full">
                <!-- Internet Icon -->
                <circle cx="50" cy="160" r="30" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2" />
                <path d="M40 160 Q50 140 60 160 Q50 180 40 160" fill="none" stroke="#64748b" stroke-width="2" />
                <text x="25" y="210" class="label-text" style="font-size: 10px;">Public Internet</text>

                <!-- VNet Boundary -->
                <rect x="120" y="20" width="650" height="280" rx="15" class="vnet-boundary" />
                <text x="140" y="45" class="label-text" style="fill: var(--primary)">Virtual Network (VNet Hub)</text>

                <!-- Flow Line 1 -->
                <path d="M 80 160 L 140 160" stroke="#cbd5e1" stroke-width="2" stroke-dasharray="5,5" class="flow-line" />

                <!-- NSG Point 1 -->
                <g class="interactive-block" onclick="showModal('cidr')">
                    <rect x="140" y="135" width="40" height="50" rx="5" fill="#326CE5" />
                    <text x="146" y="165" fill="white" style="font-size: 8px; font-weight: 800;">NSG 1</text>
                </g>

                <!-- Web Subnet Card -->
                <rect x="220" y="70" width="220" height="180" rx="12" class="subnet-card" />
                <text x="235" y="95" class="label-text" style="fill: var(--secondary)">Subnet: Web-Tier</text>
                <g class="interactive-block" onclick="showModal('vm-web')">
                    <rect x="245" y="125" width="170" height="45" rx="8" fill="#eff6ff" stroke="#326CE5" stroke-opacity="0.2" />
                    <text x="260" y="152" style="font-size: 11px; font-weight: 600; fill: var(--primary);">Web Application VM</text>
                </g>

                <!-- Flow Line 2 -->
                <path d="M 440 160 L 480 160" stroke="#cbd5e1" stroke-width="2" stroke-dasharray="5,5" class="flow-line" />

                <!-- NSG Point 2 -->
                <g class="interactive-block" onclick="showModal('vnet-creation')">
                    <rect x="480" y="135" width="40" height="50" rx="5" fill="#1e293b" />
                    <text x="486" y="165" fill="white" style="font-size: 8px; font-weight: 800;">NSG 2</text>
                </g>

                <!-- DB Subnet Card -->
                <rect x="560" y="70" width="190" height="180" rx="12" class="subnet-card" />
                <text x="575" y="95" class="label-text">Subnet: Data-Tier</text>
                <g class="interactive-block" onclick="showModal('vm-db')">
                    <rect x="575" y="125" width="160" height="45" rx="8" fill="#f8fafc" stroke="#cbd5e1" />
                    <text x="590" y="152" style="font-size: 11px; font-weight: 600; fill: #1e293b;">Database Instance</text>
                </g>

                <!-- Deny Indicator -->
                <circle cx="500" cy="220" r="12" fill="#ef4444" fill-opacity="0.1" stroke="#ef4444" stroke-width="1" />
                <text x="495" y="225" fill="#ef4444" style="font-size: 14px; font-weight: bold;">×</text>
                <text x="460" y="250" style="font-size: 9px; fill: #ef4444; font-weight: 600;">Internet Blocked</text>
            </svg>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-6 pb-24 space-y-20">
        
        <!-- VNet Section -->
        <section id="vnet" class="grid md:grid-cols-2 gap-12 items-center">
            <div>
                <span class="text-blue-600 font-bold uppercase tracking-wider text-sm">Component 01</span>
                <h2 class="text-3xl font-bold mt-2 mb-4">Virtual Network (VNet)</h2>
                <div class="space-y-4 text-slate-600">
                    <p>A Virtual Network (VNet) in Azure is a logically isolated network that securely connects Azure resources and extends on-premises networks.</p>
                    <ul class="list-disc pl-5 space-y-2">
                        <li><strong>Isolation:</strong> Provides isolation at the network level for segmenting resources and controlling traffic.</li>
                        <li><strong>Subnetting:</strong> Divide a VNet into subnets for resource organization and traffic control.</li>
                        <li><strong>Address Space:</strong> VNet address space is defined using <strong>CIDR notation</strong>, determining the IP range.</li>
                    </ul>
                </div>
            </div>
            <div class="grid grid-cols-1 gap-4">
                <div class="interactive-block bg-white p-6 rounded-xl border border-slate-200 border-l-4 border-l-blue-500 shadow-sm" onclick="showModal('cidr')">
                    <h4 class="font-bold flex items-center"><i class="fas fa-calculator mr-2 text-blue-500"></i> CIDR & Subnets</h4>
                    <p class="text-sm text-slate-500 mt-1">Understanding CIDR notation for IP ranges and network prefixes.</p>
                </div>
                <div class="interactive-block bg-white p-6 rounded-xl border border-slate-200 border-l-4 border-l-slate-800 shadow-sm" onclick="showModal('vnet-creation')">
                    <h4 class="font-bold flex items-center"><i class="fas fa-plus-circle mr-2 text-slate-800"></i> Extension & Security</h4>
                    <p class="text-sm text-slate-500 mt-1">How VNets extend on-premises networks and maintain security.</p>
                </div>
            </div>
        </section>

        <!-- Subnets & CIDR Section -->
        <section id="subnets" class="bg-white p-8 md:p-12 rounded-3xl shadow-sm border border-slate-100">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold">Segmentation & Addressing</h2>
                <p class="text-slate-600 mt-2">Logical subdivisions and technical routing prefixes.</p>
            </div>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="p-6 bg-slate-50 rounded-2xl">
                    <div class="w-10 h-10 bg-white rounded-lg flex items-center justify-center shadow-sm mb-4 text-blue-500">
                        <i class="fas fa-sitemap"></i>
                    </div>
                    <h4 class="font-bold mb-2 text-slate-800">Subnets</h4>
                    <p class="text-sm text-slate-600 leading-relaxed">Subdivisions of a Virtual Network, allowing for better organization and traffic management across your cloud environment.</p>
                </div>
                <div class="p-6 bg-slate-50 rounded-2xl">
                    <div class="w-10 h-10 bg-white rounded-lg flex items-center justify-center shadow-sm mb-4 text-orange-500">
                        <i class="fas fa-terminal"></i>
                    </div>
                    <h4 class="font-bold mb-2 text-slate-800">CIDR Notation</h4>
                    <p class="text-sm text-slate-600 leading-relaxed">Classless Inter-Domain Routing represents IP addresses and their routing prefix, specifying the exact range of IP addresses for a network.</p>
                </div>
            </div>
        </section>

        <!-- NSG & ASG Section -->
        <section id="security" class="space-y-12">
            <div class="flex flex-col md:flex-row gap-8">
                <!-- NSG Card -->
                <div class="flex-1 bg-[#1e293b] text-white p-8 rounded-2xl shadow-xl">
                    <h3 class="text-2xl font-bold mb-4 flex items-center">
                        <span class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center mr-3 text-sm">NSG</span>
                        Network Security Groups
                    </h3>
                    <p class="text-slate-300 mb-6 text-sm">Fundamental for Azure's network security, allowing filtering of inbound and outbound traffic.</p>
                    <ul class="space-y-3">
                        <li class="flex items-start text-xs"><i class="fas fa-shield-alt text-blue-400 mt-1 mr-2"></i> <span><strong>Rules:</strong> Define allowed/denied traffic based on Source, Destination, Port, and Protocol.</span></li>
                        <li class="flex items-start text-xs"><i class="fas fa-lock text-blue-400 mt-1 mr-2"></i> <span><strong>Default Rules:</strong> Built-in rules for traffic control within VNets and between subnets.</span></li>
                        <li class="flex items-start text-xs"><i class="fas fa-link text-blue-400 mt-1 mr-2"></i> <span><strong>Association:</strong> Can be associated with subnets or individual network interfaces (NICs).</span></li>
                    </ul>
                </div>
                <!-- ASG Card -->
                <div class="flex-1 border-2 border-dashed border-slate-200 p-8 rounded-2xl flex flex-col justify-center bg-white shadow-sm">
                    <h3 class="text-2xl font-bold mb-4 flex items-center text-slate-800">
                        <span class="w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center mr-3 text-sm text-white">ASG</span>
                        Application Security Groups
                    </h3>
                    <p class="text-slate-600 mb-6 text-sm leading-relaxed">Group virtual machines based on application requirements, simplifying security management.</p>
                    <ul class="space-y-3">
                        <li class="flex items-start text-xs"><i class="fas fa-check text-orange-500 mt-1 mr-2"></i> <span><strong>Simplification:</strong> Rules based on application roles instead of individual IP addresses.</span></li>
                        <li class="flex items-start text-xs"><i class="fas fa-sync text-orange-500 mt-1 mr-2"></i> <span><strong>Dynamic Membership:</strong> Supports membership based on tags or other attributes.</span></li>
                        <li class="flex items-start text-xs"><i class="fas fa-network-wired text-orange-500 mt-1 mr-2"></i> <span><strong>Rule Association:</strong> Security rules associated with ASGs are intuitive and scalable.</span></li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Routes & Route Tables Section -->
        <section id="routing" class="grid md:grid-cols-2 gap-12 items-center">
            <div class="order-2 md:order-1 relative">
                <div class="aspect-square bg-blue-50 rounded-full flex items-center justify-center">
                    <div class="w-3/4 h-3/4 bg-white shadow-xl rounded-2xl p-8 flex flex-col justify-between">
                        <div class="space-y-4">
                            <div class="flex items-center space-x-4">
                                <div class="w-10 h-10 bg-green-100 rounded flex items-center justify-center text-green-600"><i class="fas fa-route"></i></div>
                                <div>
                                    <div class="text-[10px] font-bold text-slate-400 uppercase">A "Route"</div>
                                    <div class="text-xs font-mono font-bold text-slate-700">Dest: 10.0.1.0/24 <br> Next Hop: NVA</div>
                                </div>
                            </div>
                            <div class="flex items-center space-x-4 border-t pt-4 border-slate-100">
                                <div class="w-10 h-10 bg-blue-100 rounded flex items-center justify-center text-blue-600"><i class="fas fa-table"></i></div>
                                <div>
                                    <div class="text-[10px] font-bold text-slate-400 uppercase">A "Route Table"</div>
                                    <div class="text-xs font-mono font-bold text-slate-700">Association: Subnet-01 <br> Rules: 5 Active Routes</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="order-1 md:order-2">
                <span class="text-blue-600 font-bold uppercase tracking-wider text-sm">Traffic Flow Control</span>
                <h2 class="text-3xl font-bold mt-2 mb-4">Routes and Route Tables</h2>
                <div class="space-y-6">
                    <div class="bg-white p-5 rounded-xl shadow-sm border border-slate-200">
                        <h4 class="font-bold text-slate-800">Routes</h4>
                        <p class="text-sm text-slate-600">Routes dictate exactly how network traffic is directed, specifying the final destination and the intermediate "next hop" for the packet.</p>
                    </div>
                    <div class="bg-white p-5 rounded-xl shadow-sm border border-slate-200">
                        <h4 class="font-bold text-slate-800">Route Tables</h4>
                        <p class="text-sm text-slate-600">Route Tables are collections of routes associated with subnets, enabling the creation of custom routing rules to override default Azure system routes.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer Banner -->
    <footer class="next-topic-banner py-16 px-6 text-center text-white">
        <h2 class="text-2xl font-bold mb-4">Mastered Networking Basics?</h2>
        <p class="text-slate-400 mb-8 max-w-lg mx-auto">Design intuitive and scalable network security management using these core principles.</p>
        <div class="flex flex-wrap justify-center gap-4">
            <a href="#" class="bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-xl font-bold transition shadow-lg">Watch CIDR Deep Dive</a>
            <a href="https://github.com" class="bg-slate-700 hover:bg-slate-600 px-6 py-3 rounded-xl font-bold transition"><i class="fab fa-github mr-2"></i> Detailed Notes</a>
        </div>
        <p class="mt-12 text-slate-500 text-[10px] font-bold uppercase tracking-widest">Isolation • Subnetting • Security Rules • Route Tables</p>
    </footer>

    <!-- Modal System -->
    <div id="componentModal">
        <div class="modal-content bg-white rounded-2xl shadow-2xl overflow-hidden">
            <div class="p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50">
                <h3 id="modalTitle" class="text-xl font-bold text-slate-800">Details</h3>
                <button onclick="closeModal()" class="w-8 h-8 rounded-full hover:bg-slate-200 flex items-center justify-center text-slate-400 transition">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="p-8">
                <div id="modalBody" class="text-slate-600 leading-relaxed text-sm">
                    <!-- Content injected by JS -->
                </div>
            </div>
            <div class="p-6 bg-slate-50 text-right">
                <button onclick="closeModal()" class="bg-slate-800 text-white px-6 py-2 rounded-lg font-bold hover:bg-slate-900 transition">Close</button>
            </div>
        </div>
    </div>

    <script>
        const modalData = {
            'vm-web': {
                title: 'Web Subnet Logic',
                body: 'Subnets are subdivisions of a Virtual Network. They allow for better organization. In this tier, NSG rules typically allow public traffic while keeping internal database access restricted.'
            },
            'vm-db': {
                title: 'Database Tier Security',
                body: 'NSGs provide fundamental security here. Rules are defined based on Source IP, Port, and Protocol to ensure that only the Web Tier can talk to the Database Instance.'
            },
            'cidr': {
                title: 'CIDR Notation Details',
                body: 'CIDR (Classless Inter-Domain Routing) represents IP addresses and their routing prefix. It specifies the exact range of IP addresses for your network. For example, a /24 subnet provides 256 addresses.'
            },
            'vnet-creation': {
                title: 'Logical Isolation',
                body: 'VNets provide isolation at the network level. This enables segmenting resources and controlling traffic, ensuring that your Azure environment remains secure even within a shared physical network.'
            }
        };

        function showModal(id) {
            const data = modalData[id];
            if (!data) return;

            document.getElementById('modalTitle').innerText = data.title;
            document.getElementById('modalBody').innerHTML = data.body;
            document.getElementById('componentModal').classList.add('active');
            document.body.style.overflow = 'hidden'; 
        }

        function closeModal() {
            document.getElementById('componentModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        window.onclick = function(event) {
            const modal = document.getElementById('componentModal');
            if (event.target == modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>